# RealMultiLLM Environment Configuration for Vercel Deployment
# Copy this file to .env.local and fill in your actual values
# Add these variables to your Vercel project settings under "Environment Variables"

# =============================================================================
# Core Application Configuration
# =============================================================================

# Environment (development, production, test)
# Set to "production" for Vercel deployments
NODE_ENV=development

# Next.js Configuration
# IMPORTANT: Set this to your actual Vercel deployment URL in production
NEXTAUTH_URL=http://localhost:3000
# For Vercel production: https://your-project-name.vercel.app
# For custom domain: https://yourdomain.com
NEXTAUTH_SECRET=your-nextauth-secret-here-must-be-at-least-32-characters-long-and-secure

# =============================================================================
# Database Configuration
# =============================================================================

# For Vercel PostgreSQL (recommended for production)
# DATABASE_URL="postgresql://username:password@host:5432/database?schema=public"

# For Neon (Vercel's PostgreSQL provider)
# DATABASE_URL="postgresql://user:password@ep-xxx.us-east-1.aws.neon.tech/dbname?sslmode=require"

# SQLite for development only (not recommended for production)
# DATABASE_URL="file:./dev.db"

# =============================================================================
# Security Configuration (CRITICAL - REQUIRED FOR PRODUCTION)
# =============================================================================

# Master encryption key for API keys and sensitive data (REQUIRED)
# Generate with: openssl rand -hex 64
# Must be at least 64 characters (512 bits) for AES-256 security
ENCRYPTION_MASTER_KEY=generate-a-secure-64-character-hex-key-using-openssl-rand-hex-64

# Rate limiting configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=60
RATE_LIMIT_WINDOW_MS=60000

# Session security (in seconds) - 2 hours recommended
SESSION_MAX_AGE=7200

# Demo mode (set to false in production)
ALLOW_DEMO_MODE=true

# =============================================================================
# Redis Configuration (Optional - recommended for production)
# =============================================================================

# Vercel Redis (if using Vercel KV)
# REDIS_URL= # Provided by Vercel KV integration
# REDIS_TOKEN= # Provided by Vercel KV integration

# Third-party Redis (e.g., Upstash, Redis Labs)
# REDIS_URL=redis://user:password@host:port

# =============================================================================
# OAuth Provider Configuration (Optional)
# =============================================================================

# Google OAuth (for Vercel deployment, use your actual domain)
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret
# NEXTAUTH_URL should be your Vercel deployment URL

# GitHub OAuth
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# LLM Provider API Keys (Optional - can be set in UI)
# =============================================================================

# OpenAI
# OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic (Claude)
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Google AI (Gemini)
# GOOGLE_AI_API_KEY=your-google-ai-api-key

# OpenRouter (Multiple models)
# OPENROUTER_API_KEY=sk-or-your-openrouter-api-key

# Hugging Face (for Llama models)
# HUGGING_FACE_API_KEY=hf-your-huggingface-api-key

# Grok
# GROK_API_KEY=your-grok-api-key

# =============================================================================
# Monitoring and Logging (Optional but recommended for production)
# =============================================================================

# Sentry for error monitoring
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log level (error, warn, info, debug)
# For production, recommend "info" or "warn" to reduce noise
LOG_LEVEL=info

# =============================================================================
# Feature Flags
# =============================================================================

# Enable analytics tracking
ENABLE_ANALYTICS=true

# Enable telemetry
ENABLE_TELEMETRY=true

# Enable API key encryption (always keep true in production)
ENABLE_API_KEY_ENCRYPTION=true

# =============================================================================
# Performance Optimization
# =============================================================================

# API timeout settings
API_TIMEOUT_MS=30000

# Streaming buffer size
STREAMING_BUFFER_SIZE=1024

# Cache TTL (in seconds)
CACHE_TTL=3600

# =============================================================================
# CORS and Security Headers
# =============================================================================

# Allowed origins (comma-separated for multiple)
# For Vercel: https://your-project-name.vercel.app,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000

# =============================================================================
# Vercel-Specific Settings
# =============================================================================

# Build output directory (configured in vercel.json)
# OUTPUT_DIR=.next

# =============================================================================
# Production Deployment Settings
# =============================================================================

# For Vercel production deployment:
# 1. NODE_ENV=production
# 2. NEXTAUTH_URL=https://your-project-name.vercel.app (or your custom domain)
# 3. ENCRYPTION_MASTER_KEY is set to a secure 64-character hex string
# 4. NEXTAUTH_SECRET is set to a secure 32+ character string
# 5. DATABASE_URL points to your production database (PostgreSQL recommended)
# 6. ALLOW_DEMO_MODE=false
# 7. SESSION_MAX_AGE <= 7200 (2 hours or less)
# 8. LOG_LEVEL=info (or warn for less verbose logs)

# =============================================================================
# Security Checklist for Production Deployment
# =============================================================================

# ✅ NEXTAUTH_URL matches your Vercel deployment URL or custom domain
# ✅ ENCRYPTION_MASTER_KEY is 64+ characters and randomly generated
# ✅ NEXTAUTH_SECRET is 32+ characters and randomly generated
# ✅ DATABASE_URL uses a secure connection (PostgreSQL recommended)
# ✅ ALLOW_DEMO_MODE=false
# ✅ SESSION_MAX_AGE <= 7200 (2 hours or less)
# ✅ RATE_LIMIT_ENABLED=true
# ✅ All API keys are properly secured
# ✅ OAuth secrets are properly configured for your domain
# ✅ Monitoring (SENTRY_DSN) is configured if needed
# ✅ LOG_LEVEL is appropriate for production (info or warn)

# =============================================================================
# Key Generation Commands for Vercel
# =============================================================================

# Generate ENCRYPTION_MASTER_KEY (run locally, then add to Vercel environment):
# openssl rand -hex 64

# Generate NEXTAUTH_SECRET (run locally, then add to Vercel environment):
# openssl rand -base64 32

# Add environment variables to Vercel using CLI:
# vercel env add NODE_ENV production
# vercel env add NEXTAUTH_URL https://your-project-name.vercel.app
# vercel env add NEXTAUTH_SECRET "your-secret-generated-above"
# vercel env add ENCRYPTION_MASTER_KEY "your-key-generated-above"
# vercel env add DATABASE_URL "your-db-url"

# Or add via Vercel dashboard:
# 1. Go to your project in Vercel dashboard
# 2. Navigate to Settings > Environment Variables
# 3. Add each required variable with its value

# For database migration on Vercel, add this build command in your project settings:
# prisma generate && prisma migrate deploy && next build